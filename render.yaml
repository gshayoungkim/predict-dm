services:
  - type: web
    name: predict-dm
    env: python
    region: singapore
    plan: free
    buildCommand: |
      echo "=== Python 버전 확인 ==="
      python --version
      echo "=== 패키지 설치 ==="
      pip install --upgrade pip
      pip install -r requirements.txt
      echo "=== 모델 학습 시작 ==="
      python train_model.py
      echo "=== 생성된 파일 확인 ==="
      ls -la *.pkl
    startCommand: uvicorn main:app --host 0.0.0.0 --port 10000